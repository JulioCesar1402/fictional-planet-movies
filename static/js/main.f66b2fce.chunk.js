(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),u=a.n(l),c=(a(11),a(2)),o=a.n(c),i=a(5),m=a(1),s=Object(n.createContext)();var p=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(m.a)(a,2),u=l[0],c=l[1],p=Object(n.useState)(!1),d=Object(m.a)(p,2),E=d[0],b=d[1],f=Object(n.useState)([]),v=Object(m.a)(f,2),h=v[0],g=v[1],j=Object(n.useState)(""),O=Object(m.a)(j,2),C=O[0],w=O[1],y=Object(n.useState)(!1),x=Object(m.a)(y,2),N=x[0],_=x[1],k=Object(n.useState)(""),S=Object(m.a)(k,2),q=S[0],B=S[1],I=Object(n.useState)(""),V=Object(m.a)(I,2),D=V[0],F=V[1],J=Object(n.useState)(""),L=Object(m.a)(J,2),M=L[0],P=L[1],z=Object(n.useState)([{column:q,comparison:D,value:M}]),A=Object(m.a)(z,2),G=A[0],H=A[1];Object(n.useEffect)((function(){return H([{column:q,comparison:D,value:M}])}),[q,D,M]),Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-trybe.herokuapp.com/api/planets/",e.next=3,fetch("https://swapi-trybe.herokuapp.com/api/planets/").then((function(e){return e.json()}));case 3:t=e.sent,a=t.results,(n=Object.values(a)).map((function(e){return e.residents.splice(0,e.residents.length),e})),c(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var K={data:u,getData:c,getName:w,name:C,filters:{filterByName:{name:C},filterByNumericValues:G},filterByNumericValues:G,getColumn:B,getComparison:F,getValue:P,newData:h,column:q,comparison:D,value:M,getNewData:g,button:N,getButton:_,onChangeInputs:E,getOnChangeInputs:b};return r.a.createElement(s.Provider,{value:K},t)};var d=function(){var e=Object(n.useContext)(s),t=e.getColumn,a=e.getComparison,l=e.getValue,u=e.value,c=e.getButton,o=e.getOnChangeInputs;return r.a.createElement("div",null,r.a.createElement("select",{"data-testid":"column-filter",onChange:function(e){t(e.target.value),o(!1)}},r.a.createElement("option",{value:"population"},"population"),r.a.createElement("option",{value:"orbital_period"},"orbital_period"),r.a.createElement("option",{value:"diameter"},"diameter"),r.a.createElement("option",{value:"rotation_period"},"rotation_period"),r.a.createElement("option",{value:"surface_water"},"surface_water")),r.a.createElement("select",{"data-testid":"comparison-filter",onChange:function(e){a(e.target.value),o(!1)}},r.a.createElement("option",{value:"maior que"},"maior que"),r.a.createElement("option",{value:"menor que"},"menor que"),r.a.createElement("option",{value:"igual a"},"igual a")),r.a.createElement("input",{"data-testid":"value-filter",type:"number",value:u,onChange:function(e){l(e.target.value),o(!1)},id:"numberInput"}),r.a.createElement("button",{"data-testid":"button-filter",type:"button",onClick:function(){c(!0),o(!0)}},"Enviar"))};var E=function(){var e=Object(n.useContext)(s),t=e.name,a=e.getName;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"search"},"Filtro:",r.a.createElement("input",{text:"text",value:t,onChange:function(e){a(e.target.value)},id:"search","data-testid":"name-filter"})),r.a.createElement(d,null))};var b=function(){var e=Object(n.useContext)(s),t=e.data,a=e.name,l=e.column,u=e.comparison,c=e.value,o=e.onChangeInputs,i=Object(n.useMemo)((function(){var e=a.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))}),[t,a]),m=Object(n.useMemo)((function(){return i.filter((function(e){var t=null;return"menor que"===u&&(t=Number(e[l])<Number(c)),"maior que"===u&&(t=Number(e[l])>Number(c)),"igual a"===u&&(t=Number(e[l])===Number(c)),t}))}),[i,l,c,u]),p=o?m:i;return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement("table",{id:"table"},r.a.createElement("thead",{id:"head"},r.a.createElement("tr",null,r.a.createElement("th",null,"name"),r.a.createElement("th",null,"rotation_period"),r.a.createElement("th",null,"orbital_period"),r.a.createElement("th",null,"diameter"),r.a.createElement("th",null,"climate"),r.a.createElement("th",null,"gravity"),r.a.createElement("th",null,"terrain"),r.a.createElement("th",null,"surface_water"),r.a.createElement("th",null,"population"),r.a.createElement("th",null,"films"),r.a.createElement("th",null,"created"),r.a.createElement("th",null,"edited"),r.a.createElement("th",null,"url"))),r.a.createElement("tbody",{id:"body"},(i||m)&&p.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films.map((function(e,t){return r.a.createElement("p",{id:"aeo",key:t},e)}))),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))})))))};var f=function(){return r.a.createElement(p,null,r.a.createElement(b,null))};u.a.render(r.a.createElement(f,null),document.getElementById("root"))},6:function(e,t,a){e.exports=a(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.f66b2fce.chunk.js.map